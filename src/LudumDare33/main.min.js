!function(){"use strict";function t(){}t.prototype={preload:function(){this.load.image("preloader","assets/preloader.gif")},create:function(){this.game.input.maxPointers=1,this.game.device.desktop?this.game.scale.pageAlignHorizontally=!0:(this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.minWidth=480,this.game.scale.minHeight=260,this.game.scale.maxWidth=640,this.game.scale.maxHeight=480,this.game.scale.forceOrientation(!0),this.game.scale.pageAlignHorizontally=!0,this.game.scale.setScreenSize(!0)),this.game.state.start("preloader")}},window.whatsamonster=window.whatsamonster||{},window.whatsamonster.Boot=t}(),function(){"use strict";function t(){}t.prototype={main_player_sprite:"",create:function(){var t=this.add.text(.5*this.game.width-10,.5*this.game.height-15,"Monster? Or Robot? Who do you call a monster?",{font:"24px Arial",fill:"#ffffff",align:"center"}),e=this.add.text(.5*this.game.width-10,.5*this.game.height+15,"Monster",{font:"24px Arial",fill:"#FF0000",align:"center"}),s=this.add.text(.5*this.game.width-10,.5*this.game.height+45,"Robot",{font:"24px Arial",fill:"#0000FF",align:"center"});s.anchor.set(.5),e.anchor.set(.5),t.anchor.set(.5),e.inputEnabled=!0,e.events.onInputDown.add(this.onMonsterClick,this),s.inputEnabled=!0,s.events.onInputDown.add(this.onRobotClick,this)},update:function(){},onRobotClick:function(){console.log("Yes Mr. Robot"),this.main_player_sprite="blueRobot",this.game.state.start("play_game",!0,!1,"blueRobot")},onMonsterClick:function(){console.log("Clickty Click"),this.main_player_sprite="pinkMonster",this.game.state.start("play_game",!0,!1,"pinkMonster")},onInputDown:function(){this.game.state.start("menu")}},window.whatsamonster=window.whatsamonster||{},window.whatsamonster.Game=t}(),window.addEventListener("load",function(){"use strict";var t=window.whatsamonster,e=new Phaser.Game(1024,768,Phaser.AUTO,"whatsamonster-game");e.state.add("boot",t.Boot),e.state.add("preloader",t.Preloader),e.state.add("menu",t.Menu),e.state.add("game",t.Game),e.state.add("play_game",t.PlayGame),e.state.start("boot")},!1),function(){"use strict";function t(){}t.prototype={create:function(){var t=this.add.text(.5*this.game.width,.5*this.game.height,"What's a Monster?",{font:"42px Arial",fill:"#ffffff",align:"center"});t.anchor.set(.5),this.input.onDown.add(this.onDown,this)},update:function(){},onDown:function(){this.game.state.start("game")}},window.whatsamonster=window.whatsamonster||{},window.whatsamonster.Menu=t}(),function(){"use strict";function t(){}var e=0;t.prototype={init:function(t){this.player_choice=t},create:function(){this.gameRef=this.game,this.game.world.setBounds(0,0,1600,1200),this.starfield=this.game.add.tileSprite(0,0,1024,768,"stars"),this.starfield.fixedToCamera=!0,this.main_player=this.game.add.sprite(0,0,this.player_choice),this.main_player.anchor.setTo(.5,.5),this.main_player.scale.setTo(.04,.04),this.game.stage.backgroundColor="blueRobot"===this.player_choice?"#0000FF":"#FF0000";new Phaser.Rectangle(0,0,this.game.width,this.game.height);this.game.physics.startSystem(Phaser.Physics.P2JS),this.playerCollisionGroup=this.game.physics.p2.createCollisionGroup(),this.monsterCollisionGroup=this.game.physics.p2.createCollisionGroup(),this.bulletCollisionGroup=this.game.physics.p2.createCollisionGroup(),this.game.physics.p2.setImpactEvents(!0),this.game.physics.p2.updateBoundsCollisionGroup(),this.game.physics.p2.restitution=.9,this.game.physics.p2.enable(this.main_player),this.main_player.body.setCircle(28),this.main_player.body.fixedRotation=!0,this.main_player.body.setCollisionGroup(this.playerCollisionGroup),this.main_player.body.collides(this.monsterCollisionGroup,this.playerCollide,this),this.bullets=this.game.add.physicsGroup(Phaser.Physics.P2JS),this.bullets.enableBody=!0,this.bullets.createMultiple(300,this.player_choice+"-shot"),this.bullets.setAll("anchor.x",.5),this.bullets.setAll("anchor.y",1),this.bullets.setAll("outOfBoundsKill",!0),this.bullets.setAll("checkWorldBounds",!0),this.cursors=this.game.input.keyboard.createCursorKeys(),this.fireButton=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.spawn_counter=0,this.game.camera.follow(this.main_player)},update:function(){if(this.main_player.body.setZeroVelocity(),this.cursors.left.isDown?this.main_player.body.moveLeft(200):this.cursors.right.isDown&&this.main_player.body.moveRight(200),this.cursors.up.isDown?this.main_player.body.moveUp(200):this.cursors.down.isDown&&this.main_player.body.moveDown(200),(this.fireButton.isDown||this.game.input.activePointer.isDown)&&this.fireBullet(),this.spawn_counter>=50){var t=this.game.add.sprite(this.game.world.randomX,this.game.world.randomY,"negatron");t&&(this.game.physics.p2.enable(t),t.body.setCircle(24),t.scale.setTo(.02,.02),t.body.velocity.y=+Math.floor(10*Math.random()+1),t.body.velocity.x=-Math.floor(10*Math.random()+1),t.body.setCollisionGroup(this.monsterCollisionGroup),t.body.collides([this.playerCollisionGroup,this.bulletCollisionGroup])),this.spawn_counter=0}else this.spawn_counter+=1;this.game.camera.atLimit.x||(this.starfield.tilePosition.x-=this.main_player.body.velocity.x*this.game.time.physicsElapsed),this.game.camera.atLimit.y||(this.starfield.tilePosition.y+=this.main_player.body.velocity.y*this.game.time.physicsElapsed)},fireBullet:function(){var t=this.bullets.getFirstExists(!1);t&&(this.game.physics.p2.enable(t),t.body.setCollisionGroup(this.bulletCollisionGroup),t.body.collides(this.monsterCollisionGroup,this.bulletCollide,this),t.scale.setTo(.75,.75),t.reset(this.main_player.x,this.main_player.y+8),t.body.velocity.y=400)},playerCollide:function(t,s){t.sprite.kill(),this.game.debug.text("Player Score: "+e.toString()+" GAME OVER!",32,32);var i=this.game.add.text(.5*this.game.width-10,.5*this.game.height+15,"Play Again?",{font:"24px Arial",fill:"#FF0000",align:"center"});t.sprite.kill(),i.anchor.set(.5),i.inputEnabled=!0,i.events.onInputDown.add(this.onMonsterClick,this),this.game.stage.backgroundColor="#000000",this.game_over=!0},bulletCollide:function(t,s){t.sprite.kill(),s.sprite.kill(),e+=1,this.game_over||this.game.debug.text("Player Score: "+e.toString(),32,32)},render:function(){this.game_over||this.game.debug.text("Player Score: "+e.toString(),32,32)},onMonsterClick:function(){console.log("Clickty Click"),this.game.state.start("game")}},window.whatsamonster=window.whatsamonster||{},window.whatsamonster.PlayGame=t}(),function(){"use strict";function t(){this.asset=null,this.ready=!1,this.blue_robot=null,this.dragon=null,this.negatron=null,this.pinkMonster=null,this.player=null}t.prototype={preload:function(){this.asset=this.add.sprite(.5*this.game.width-110,.5*this.game.height-10,"preloader"),this.load.setPreloadSprite(this.asset),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources(),this.ready=!0},loadResources:function(){this.game.load.image("blueRobot","assets/blueRobot.png"),this.game.load.image("dragon","assets/dragon.png"),this.game.load.image("negatron","assets/negatron.png"),this.game.load.image("pinkMonster","assets/pinkMonster.png"),this.game.load.image("player","assets/player.png"),this.game.load.image("pinkMonster-shot","assets/Monster-Shot.png"),this.game.load.image("blueRobot-shot","assets/Robot-Shot.png"),this.game.load.image("stars","assets/space.png")},create:function(){},update:function(){this.game.state.start("menu")},onLoadComplete:function(){}},window.whatsamonster=window.whatsamonster||{},window.whatsamonster.Preloader=t}();